{"ast":null,"code":"var _this = this,\n  _jsxFileName = \"/Users/prasadedlabadkar/Desktop/code/org-chart/src/OrgChart.js\";\nimport React, { useLayoutEffect, useRef } from 'react';\nimport { OrgChart } from 'd3-org-chart';\nexport var OrgChartComponent = function OrgChartComponent(props, ref) {\n  var d3Container = useRef(null);\n  var chart = null;\n  function addNode(node) {\n    chart.addNode(node);\n  }\n  props.setClick(addNode);\n  var borderColor = {\n    \"rakbank\": \"#EB2544\",\n    \"contractor\": \"blue\",\n    \"vendor\": \"green\"\n  };\n\n  // We need to manipulate DOM\n  useLayoutEffect(function () {\n    if (props.data && d3Container.current) {\n      if (!chart) {\n        chart = new OrgChart();\n      }\n      chart.container(d3Container.current).data(props.data).nodeWidth(function (d) {\n        return 240;\n      }).nodeHeight(function (d) {\n        return 160;\n      }).childrenMargin(function (d) {\n        return 40;\n      }).compactMarginBetween(function (d) {\n        return 15;\n      }).compactMarginPair(function (d) {\n        return 80;\n      }).onNodeClick(function (d, i, arr) {\n        console.log(d, 'Id of clicked node ');\n        props.onNodeClick(d);\n      }).nodeContent(function (d, i, arr, state) {\n        return \"\\n            <div style=\\\"background-color:none;margin-left:1px;height:\".concat(d.height, \"px;border-radius:2px;overflow:visible\\\">\\n              <div style=\\\"height:\").concat(d.height, \"px;padding-top:0px;background-color:white;border:3px solid \").concat(borderColor[d.data.company], \";\\\">\\n\\n               <div style=\\\"padding:10px; text-align:center\\\">\\n                   <div style=\\\"color:#EB2544;font-size:16px;font-weight:bold\\\"> \").concat(d.data.name, \" </div>\\n                   <div style=\\\"color:#404040;font-size:12px;margin-top:4px\\\"> \").concat(d.data.positionName, \" </div>\\n                   <div style=\\\"color:#404040;font-size:12px;margin-top:4px\\\"><b>Specialization:</b> \").concat(d.data.skill, \" </div>\") + //  <div style=\"color:#404040;font-size:12px;margin-top:4px\"><b>Project:</b> ${\n        //   d.data.currentProject\n        // } </div>\n        // <div style=\"color:#404040;font-size:12px;margin-top:4px\"><b>Project End date:</b> ${\n        //   d.data.projectEndDate\n        // } </div>\n        // ${d.data.company !== 'rakbank'?'<div style=\"color:#404040;font-size:12px;margin-top:4px\"><b>Contract End date:</b>'+d.data.contractEndDate+'</div>':''}\n        \"</div> \\n               <div style=\\\"display:flex;justify-content:space-between;padding-left:15px;padding-right:15px;\\\">\\n                 <div> Manages:  \".concat(d.data._directSubordinates, \" \\uD83D\\uDC64</div>  \\n                 <div> Oversees: \").concat(d.data._totalSubordinates, \" \\uD83D\\uDC64</div>    \\n               </div>\\n              </div>     \\n      </div>\\n  \");\n      }).compact(true).render().expandAll().fit();\n    }\n  }, [props.data, d3Container.current]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: d3Container,\n    style: {\n      height: '1200px',\n      backgroundColor: '#f6f6f6'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }));\n};","map":{"version":3,"names":["React","useLayoutEffect","useRef","OrgChart","OrgChartComponent","props","ref","d3Container","chart","addNode","node","setClick","borderColor","data","current","container","nodeWidth","d","nodeHeight","childrenMargin","compactMarginBetween","compactMarginPair","onNodeClick","i","arr","console","log","nodeContent","state","concat","height","company","name","positionName","skill","_directSubordinates","_totalSubordinates","compact","render","expandAll","fit","createElement","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","backgroundColor"],"sources":["/Users/prasadedlabadkar/Desktop/code/org-chart/src/OrgChart.js"],"sourcesContent":["import React, { useLayoutEffect, useRef } from 'react';\nimport { OrgChart } from 'd3-org-chart';\n\nexport const OrgChartComponent = (props, ref) => {\n  const d3Container = useRef(null);\n  let chart = null;\n\n  function addNode(node) {\n    chart.addNode(node);\n  }\n\n  props.setClick(addNode);\n  const borderColor = {\n    \"rakbank\": \"#EB2544\",\n    \"contractor\": \"blue\",\n    \"vendor\": \"green\" \n  }\n\n  // We need to manipulate DOM\n  useLayoutEffect(() => {\n    if (props.data && d3Container.current) {\n      if (!chart) {\n        chart = new OrgChart();\n      }\n      chart\n        .container(d3Container.current)\n        .data(props.data)\n        .nodeWidth((d) => 240)\n        .nodeHeight((d) => 160)\n        .childrenMargin((d) => 40)\n        .compactMarginBetween((d) => 15)\n        .compactMarginPair((d) => 80)\n        .onNodeClick((d, i, arr) => {\n          console.log(d, 'Id of clicked node ');\n          props.onNodeClick(d);\n        })\n        .nodeContent((d, i, arr, state) => {\n          return `\n            <div style=\"background-color:none;margin-left:1px;height:${\n              d.height \n            }px;border-radius:2px;overflow:visible\">\n              <div style=\"height:${\n                d.height\n              }px;padding-top:0px;background-color:white;border:3px solid ${borderColor[d.data.company]};\">\n\n               <div style=\"padding:10px; text-align:center\">\n                   <div style=\"color:#EB2544;font-size:16px;font-weight:bold\"> ${\n                     d.data.name\n                   } </div>\n                   <div style=\"color:#404040;font-size:12px;margin-top:4px\"> ${\n                     d.data.positionName\n                   } </div>\n                   <div style=\"color:#404040;font-size:12px;margin-top:4px\"><b>Specialization:</b> ${\n                    d.data.skill\n                  } </div>` + \n                  //  <div style=\"color:#404040;font-size:12px;margin-top:4px\"><b>Project:</b> ${\n                  //   d.data.currentProject\n                  // } </div>\n                  // <div style=\"color:#404040;font-size:12px;margin-top:4px\"><b>Project End date:</b> ${\n                  //   d.data.projectEndDate\n                  // } </div>\n                  // ${d.data.company !== 'rakbank'?'<div style=\"color:#404040;font-size:12px;margin-top:4px\"><b>Contract End date:</b>'+d.data.contractEndDate+'</div>':''}\n               `</div> \n               <div style=\"display:flex;justify-content:space-between;padding-left:15px;padding-right:15px;\">\n                 <div> Manages:  ${d.data._directSubordinates} ðŸ‘¤</div>  \n                 <div> Oversees: ${d.data._totalSubordinates} ðŸ‘¤</div>    \n               </div>\n              </div>     \n      </div>\n  `;\n        })\n        .compact(true)\n        .render()\n        .expandAll()\n        .fit();\n    }\n  }, [props.data, d3Container.current]);\n\n  return (\n    <div>\n      <div ref={d3Container} style={{height: '1200px', backgroundColor: '#f6f6f6'}}/>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}