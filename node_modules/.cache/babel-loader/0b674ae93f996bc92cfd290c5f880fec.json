{"ast":null,"code":"import _slicedToArray from \"/Users/prasadedlabadkar/Desktop/code/org-chart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/prasadedlabadkar/Desktop/code/org-chart/src/OrgChart.js\";\nimport React, { useLayoutEffect, useRef } from 'react';\nimport { OrgChart } from 'd3-org-chart';\nexport var OrgChartComponent = function OrgChartComponent(props, ref) {\n  var d3Container = useRef(null);\n  var chart = null;\n  var _useState = useState(require('./data/org.csv')),\n    _useState2 = _slicedToArray(_useState, 2),\n    url = _useState2[0],\n    setUrl = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    data = _useState4[0],\n    setData = _useState4[1];\n  function addNode(node) {\n    chart.addNode(node);\n  }\n  props.setClick(addNode);\n  var borderColor = {\n    \"rakbank\": \"#EB2544\",\n    \"contractor\": \"blue\",\n    \"vendor\": \"green\"\n  };\n  seEffect(function () {\n    d3.csv(url).then(function (data) {\n      console.log(data);\n      setData(data);\n    });\n  }, [url]);\n\n  // We need to manipulate DOM\n  useLayoutEffect(function () {\n    if (data && d3Container.current) {\n      if (!chart) {\n        chart = new OrgChart();\n      }\n      chart.container(d3Container.current).data(data).nodeWidth(function (d) {\n        return 200;\n      }).nodeHeight(function (d) {\n        return 150;\n      }).childrenMargin(function (d) {\n        return 40;\n      }).compactMarginBetween(function (d) {\n        return 15;\n      }).compactMarginPair(function (d) {\n        return 80;\n      }).onNodeClick(function (d, i, arr) {\n        console.log(d, 'Id of clicked node ');\n        props.onNodeClick(d);\n      }).nodeContent(function (d, i, arr, state) {\n        return \"\\n            <div style=\\\"background-color:none;margin-left:1px;height:\".concat(d.height, \"px;border-radius:2px;overflow:visible\\\">\\n              <div style=\\\"height:\").concat(d.height, \"px;padding-top:0px;background-color:white;border:3px solid \").concat(borderColor[d.data.company], \";\\\">\\n\\n               <div style=\\\"padding:10px; text-align:center\\\">\\n                   <div style=\\\"color:#EB2544;font-size:16px;font-weight:bold\\\"> \").concat(d.data.name, \" </div>\\n                   <div style=\\\"color:#404040;font-size:12px;margin-top:4px\\\"> \").concat(d.data.positionName, \" </div>\\n                   <div style=\\\"color:#404040;font-size:12px;margin-top:4px\\\"><b>Specialization:</b> \").concat(d.data.skill, \" </div>\") + //  <div style=\"color:#404040;font-size:12px;margin-top:4px\"><b>Project:</b> ${\n        //   d.data.currentProject\n        // } </div>\n        // <div style=\"color:#404040;font-size:12px;margin-top:4px\"><b>Project End date:</b> ${\n        //   d.data.projectEndDate\n        // } </div>\n        // ${d.data.company !== 'rakbank'?'<div style=\"color:#404040;font-size:12px;margin-top:4px\"><b>Contract End date:</b>'+d.data.contractEndDate+'</div>':''}\n        \"</div> \\n               <div style=\\\"display:flex;justify-content:space-between;padding-left:15px;padding-right:15px;\\\">\\n                 <div> Manages:  \".concat(d.data._directSubordinates, \" \\uD83D\\uDC64</div>  \\n                 <div> Oversees: \").concat(d.data._totalSubordinates, \" \\uD83D\\uDC64</div>    \\n               </div>\\n              </div>     \\n      </div>\\n  \");\n      }).compact(true).render().expandAll().fit();\n    }\n  }, [props.data, d3Container.current]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, \"Data File:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"url\",\n    placeholder: \"Enter CSV file URL\",\n    onChange: function onChange(e) {\n      return setUrl(e.target.value === \"\" ? require('./data/org.csv') : e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    ref: d3Container,\n    style: {\n      height: '100%',\n      width: '100%',\n      backgroundColor: '#f6f6f6'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }));\n};","map":{"version":3,"names":["React","useLayoutEffect","useRef","OrgChart","OrgChartComponent","props","ref","d3Container","chart","_useState","useState","require","_useState2","_slicedToArray","url","setUrl","_useState3","_useState4","data","setData","addNode","node","setClick","borderColor","seEffect","d3","csv","then","console","log","current","container","nodeWidth","d","nodeHeight","childrenMargin","compactMarginBetween","compactMarginPair","onNodeClick","i","arr","nodeContent","state","concat","height","company","name","positionName","skill","_directSubordinates","_totalSubordinates","compact","render","expandAll","fit","createElement","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","e","target","value","style","width","backgroundColor"],"sources":["/Users/prasadedlabadkar/Desktop/code/org-chart/src/OrgChart.js"],"sourcesContent":["import React, { useLayoutEffect, useRef } from 'react';\nimport { OrgChart } from 'd3-org-chart';\n\nexport const OrgChartComponent = (props, ref) => {\n  const d3Container = useRef(null);\n  let chart = null;\n  const [url, setUrl] = useState(require('./data/org.csv'));\n  const [data, setData] = useState(null);\n\n  function addNode(node) {\n    chart.addNode(node);\n  }\n\n  props.setClick(addNode);\n  const borderColor = {\n    \"rakbank\": \"#EB2544\",\n    \"contractor\": \"blue\",\n    \"vendor\": \"green\" \n  }\n\n  seEffect(() => {\n    d3.csv(url\n    ).then((data) => {\n      console.log(data);\n      setData(data);\n    });\n  }, [url]);\n\n  // We need to manipulate DOM\n  useLayoutEffect(() => {\n    if (data && d3Container.current) {\n      if (!chart) {\n        chart = new OrgChart();\n      }\n      chart\n        .container(d3Container.current)\n        .data(data)\n        .nodeWidth((d) => 200)\n        .nodeHeight((d) => 150)\n        .childrenMargin((d) => 40)\n        .compactMarginBetween((d) => 15)\n        .compactMarginPair((d) => 80)\n        .onNodeClick((d, i, arr) => {\n          console.log(d, 'Id of clicked node ');\n          props.onNodeClick(d);\n        })\n        .nodeContent((d, i, arr, state) => {\n          return `\n            <div style=\"background-color:none;margin-left:1px;height:${\n              d.height \n            }px;border-radius:2px;overflow:visible\">\n              <div style=\"height:${\n                d.height\n              }px;padding-top:0px;background-color:white;border:3px solid ${borderColor[d.data.company]};\">\n\n               <div style=\"padding:10px; text-align:center\">\n                   <div style=\"color:#EB2544;font-size:16px;font-weight:bold\"> ${\n                     d.data.name\n                   } </div>\n                   <div style=\"color:#404040;font-size:12px;margin-top:4px\"> ${\n                     d.data.positionName\n                   } </div>\n                   <div style=\"color:#404040;font-size:12px;margin-top:4px\"><b>Specialization:</b> ${\n                    d.data.skill\n                  } </div>` + \n                  //  <div style=\"color:#404040;font-size:12px;margin-top:4px\"><b>Project:</b> ${\n                  //   d.data.currentProject\n                  // } </div>\n                  // <div style=\"color:#404040;font-size:12px;margin-top:4px\"><b>Project End date:</b> ${\n                  //   d.data.projectEndDate\n                  // } </div>\n                  // ${d.data.company !== 'rakbank'?'<div style=\"color:#404040;font-size:12px;margin-top:4px\"><b>Contract End date:</b>'+d.data.contractEndDate+'</div>':''}\n               `</div> \n               <div style=\"display:flex;justify-content:space-between;padding-left:15px;padding-right:15px;\">\n                 <div> Manages:  ${d.data._directSubordinates} ðŸ‘¤</div>  \n                 <div> Oversees: ${d.data._totalSubordinates} ðŸ‘¤</div>    \n               </div>\n              </div>     \n      </div>\n  `;\n        })\n        .compact(true)\n        .render()\n        .expandAll()\n        .fit();\n    }\n  }, [props.data, d3Container.current]);\n\n  return (\n    <div>\n      <div>\n      <span>Data File:</span>\n      <input type='url' placeholder='Enter CSV file URL' onChange={(e) => setUrl(e.target.value === \"\"?require('./data/org.csv'):e.target.value)}></input>\n      </div>\n      <div ref={d3Container} style={{height: '100%', width:'100%', backgroundColor: '#f6f6f6'}}/>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}